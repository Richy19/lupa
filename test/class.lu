
class Point {
    has x : Number = 0
    has y : Number = 0

    method __init() {
        print("class => ", Point)
    }
    method move(x = 1, y = 1) : Void {
        self.x = x
        self.y = y
        return
    }
}

class Point3D from Point {
    has z : Number = 0

    function greet() {
       print("Hello World!")
    }

    method move(x : Number = getit(), y : Number = 0, z : Number = 0) : Void {
        super::move(self, x, y)
        self.z = z
    }

    function getit() {
       return 42
    }
}

var p = Point()

p.move()
print(p.x, p.y)

var p = Point3D()
print(p, Point3D)

p.move()
assert(p.x == 42)

for i = 1, 10_000_000 {
   p.move(i+1, i+2, i+3)
}

for k,v in p {
   print("${k} => ${v}")
}

try {
   p.z = "cheese"
}
catch (e : TypeError) {
   print("caught => ${typeof e}: ${e.message}")
}

